/* Import OpenDyslexic font for dyslexia support */
@import url('https://fonts.googleapis.com/css2?family=OpenDyslexic:wght@400;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=OpenDyslexic:wght@400;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;


/* PDF Reader Design System - Minimalist & Accessible */

@layer base {
  /* Accessibility Styles */
  body {
    font-size: var(--accessibility-font-size);
    line-height: var(--accessibility-line-height);
    font-family: var(--accessibility-font-family);
    letter-spacing: var(--accessibility-letter-spacing);
    word-spacing: var(--accessibility-word-spacing);
    color: var(--accessibility-text-color);
    background-color: var(--accessibility-bg-color);
  }

  /* Apply accessibility to text elements */
  p, h1, h2, h3, h4, h5, h6, span, div, li, td, th {
    font-size: var(--accessibility-font-size);
    line-height: var(--accessibility-line-height);
    font-family: var(--accessibility-font-family);
    letter-spacing: var(--accessibility-letter-spacing);
    word-spacing: var(--accessibility-word-spacing);
    color: var(--accessibility-text-color);
    direction: var(--accessibility-text-direction);
  }

  /* Apply accessibility to links */
  a {
    color: var(--accessibility-link-color);
  }

  /* Apply accessibility to borders and shadows */
  .border, .border-l, .border-r, .border-t, .border-b {
    border-color: var(--accessibility-border-color);
  }

  .shadow, .shadow-sm, .shadow-md, .shadow-lg, .shadow-xl {
    box-shadow: var(--accessibility-shadow);
  }

  /* PDF Viewer Accessibility Styles */
  .pdf-viewer, iframe[src*=".pdf"], canvas {
    color: var(--pdf-text-color) !important;
    background-color: var(--pdf-bg-color) !important;
  }

  /* PDF Highlight Colors - Professional Yellow-based System */
  .pdf-highlight-primary {
    background-color: rgba(255, 235, 59, 0.4) !important; /* Bright yellow for key insights */
    border-left: 3px solid #FDD835 !important;
  }

  .pdf-highlight-secondary {
    background-color: rgba(255, 193, 7, 0.3) !important; /* Amber for important facts */
    border-left: 3px solid #FFA000 !important;
  }

  .pdf-highlight-tertiary {
    background-color: rgba(255, 241, 118, 0.3) !important; /* Light yellow for supporting info */
    border-left: 3px solid #F57F17 !important;
  }

  .pdf-highlight-quaternary {
    background-color: rgba(255, 213, 79, 0.25) !important; /* Gold for definitions */
    border-left: 3px solid #FF8F00 !important;
  }

  /* Adobe PDF Embed API specific selectors */
  .adobe-dc-view, .adobe-dc-view * {
    color: var(--pdf-text-color) !important;
  }

  /* PDF page elements */
  .pdf-page, .pdf-canvas, .pdf-renderer {
    border-color: var(--pdf-border-color) !important;
    box-shadow: 0 2px 8px var(--pdf-shadow-color) !important;
  }

  /* PDF.js Text Layer Styles */
  .textLayer {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
    opacity: 0.2;
    line-height: 1.0;
    user-select: text;
    pointer-events: auto;
  }

  .textLayer span,
  .textLayer br {
    color: transparent;
    position: absolute;
    white-space: pre;
    cursor: text;
    transform-origin: 0% 0%;
  }

  .textLayer .highlight {
    opacity: 1;
    background-color: rgba(255, 255, 0, 0.3);
    border-radius: 2px;
    padding: 0 2px;
  }

  /* Selection highlight */
  .textLayer ::selection {
    background: rgba(0, 123, 255, 0.3);
  }

  .textLayer ::-moz-selection {
    background: rgba(0, 123, 255, 0.3);
  }

  /* Enhanced Animations */
  .animate-fade-in {
    animation: fadeIn 0.5s var(--ease-out-expo) forwards;
  }

  .animate-slide-up {
    animation: slideUp 0.6s var(--ease-out-expo) forwards;
  }

  .animate-scale-in {
    animation: scaleIn 0.4s var(--spring-bounce) forwards;
  }

  .animate-bounce-in {
    animation: bounceIn 0.6s var(--spring-bounce) forwards;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.9);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes bounceIn {
    from {
      opacity: 0;
      transform: scale(0.8) translateY(20px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  /* Smooth hover transitions */
  .hover-lift {
    transition: transform 0.2s var(--ease-out-expo), box-shadow 0.2s var(--ease-out-expo);
  }

  .hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  }

  /* Gradient animations */
  .gradient-shift {
    background-size: 200% 200%;
    animation: gradientShift 3s ease-in-out infinite;
  }

  @keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  :root {
    /* Core Brand Colors - Modern & Cohesive */
    --brand-primary: 220 85% 55%;        /* Modern vibrant blue */
    --brand-secondary: 260 75% 65%;      /* Complementary purple */
    --brand-accent: 200 100% 92%;        /* Light blue accent */
    
    /* Surface Colors */
    --background: 0 0% 100%;             /* Pure white */
    --background-secondary: 220 15% 97%; /* Clean light gray */
    --background-tertiary: 220 20% 95%;  /* Subtle blue tint */
    --foreground: 220 15% 10%;           /* Modern dark text */
    --foreground-secondary: 220 10% 45%; /* Balanced medium gray */
    
    /* Interactive States */
    --surface-elevated: 0 0% 100%;       /* Cards/modals */
    --surface-hover: 220 20% 96%;        /* Subtle hover */
    --surface-active: 220 85% 92%;       /* Branded active state */
    --surface-selected: 220 85% 88%;     /* Clear selection */
    
    /* PDF Viewer Specific */
    --pdf-background: 0 0% 98%;          /* PDF canvas background */
    --pdf-shadow: 220 13% 0%;            /* PDF page shadows */
    --outline-background: 220 13% 99%;   /* Sidebar background */
    --highlight-primary: 54 100% 62%;    /* Professional yellow highlight */
    --highlight-secondary: 45 100% 51%;  /* Amber highlight */
    --highlight-tertiary: 60 100% 73%;   /* Light yellow highlight */
    --highlight-quaternary: 43 100% 65%; /* Gold highlight */
    
    /* Accessibility Colors */
    --focus-ring: 217 91% 60%;           /* Focus indicators */
    --success: 142 76% 36%;              /* Success states */
    --warning: 38 92% 50%;               /* Warning states */
    --error: 0 84% 60%;                  /* Error states */
    
    /* Text Hierarchy */
    --text-primary: 220 13% 15%;         /* Main text */
    --text-secondary: 220 9% 46%;        /* Secondary text */
    --text-tertiary: 220 8% 69%;         /* Tertiary text */
    --text-on-brand: 0 0% 100%;          /* Text on colored backgrounds */
    
    /* Borders & Dividers */
    --border-subtle: 220 18% 88%;        /* Refined light borders */
    --border-moderate: 220 15% 78%;      /* Clear medium borders */
    --border-strong: 220 12% 65%;        /* Defined strong borders */
    
    /* Shadows & Elevation */
    --shadow-sm: 0 1px 2px 0 hsl(220 13% 0% / 0.05);
    --shadow-md: 0 4px 6px -1px hsl(220 13% 0% / 0.1), 0 2px 4px -2px hsl(220 13% 0% / 0.1);
    --shadow-lg: 0 10px 15px -3px hsl(220 13% 0% / 0.1), 0 4px 6px -4px hsl(220 13% 0% / 0.1);
    --shadow-xl: 0 20px 25px -5px hsl(220 13% 0% / 0.1), 0 8px 10px -6px hsl(220 13% 0% / 0.1);
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(var(--brand-primary)), hsl(var(--brand-secondary)));
    --gradient-subtle: linear-gradient(180deg, hsl(var(--background)), hsl(var(--background-secondary)));
    --gradient-accent: linear-gradient(135deg, hsl(var(--brand-accent)), hsl(var(--brand-primary)));
    
    /* Animation Timing */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
    
    /* Enhanced Animations */
    --spring-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-in-out-quart: cubic-bezier(0.77, 0, 0.175, 1);
    
    /* Component Tokens */
    --radius: 0.5rem;                    /* 8px refined corners */
    --radius-lg: 0.75rem;                /* 12px for cards */
    --radius-xl: 1rem;                   /* 16px for modals */

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 240 5.3% 26.1%;

    --sidebar-primary: 240 5.9% 10%;

    --sidebar-primary-foreground: 0 0% 98%;

    --sidebar-accent: 240 4.8% 95.9%;

    --sidebar-accent-foreground: 240 5.9% 10%;

    --sidebar-border: 220 13% 91%;

    --sidebar-ring: 217.2 91.2% 59.8%;

    /* Accessibility Variables - Default Values */
    --accessibility-font-size: 16px;
    --accessibility-line-height: 1.5;
    --accessibility-font-family: inherit;
    --accessibility-letter-spacing: normal;
    --accessibility-word-spacing: normal;
    --accessibility-text-color: inherit;
    --accessibility-bg-color: inherit;
    --accessibility-link-color: inherit;
    --accessibility-border-color: inherit;
    --accessibility-shadow: inherit;
    --accessibility-text-direction: ltr;

    /* PDF-specific Accessibility Variables */
    --pdf-text-color: inherit;
    --pdf-bg-color: inherit;
    --pdf-highlight-primary: inherit;
    --pdf-highlight-secondary: inherit;
    --pdf-highlight-tertiary: inherit;
    --pdf-border-color: inherit;
    --pdf-shadow-color: inherit;
  }

  .dark {
    /* Core Brand Colors - Dark Mode */
    --brand-primary: 217 91% 70%;        /* Brighter blue for dark */
    --brand-secondary: 142 76% 56%;      /* Brighter green for dark */
    --brand-accent: 250 100% 90%;        /* Lighter lavender */
    
    /* Surface Colors - Dark Mode */
    --background: 220 13% 9%;            /* Very dark blue-gray */
    --background-secondary: 220 13% 12%; /* Slightly lighter */
    --background-tertiary: 220 13% 15%;  /* Cards/elevated surfaces */
    --foreground: 220 13% 92%;           /* Light text */
    --foreground-secondary: 220 9% 70%;  /* Secondary text */
    
    /* Interactive States - Dark Mode */
    --surface-elevated: 220 13% 15%;     /* Cards/modals */
    --surface-hover: 220 13% 18%;        /* Hover states */
    --surface-active: 217 91% 20%;       /* Active states */
    --surface-selected: 217 91% 25%;     /* Selected items */
    
    /* PDF Viewer Specific - Dark Mode */
    --pdf-background: 220 13% 11%;       /* PDF canvas background */
    --pdf-shadow: 0 0% 0%;               /* Deeper shadows */
    --outline-background: 220 13% 10%;   /* Sidebar background */
    --highlight-primary: 54 80% 55%;     /* Dimmer professional yellow highlight */
    --highlight-secondary: 45 80% 45%;   /* Dimmer amber highlight */
    --highlight-tertiary: 60 80% 65%;    /* Dimmer light yellow highlight */
    --highlight-quaternary: 43 80% 58%;  /* Dimmer gold highlight */
    
    /* Text Hierarchy - Dark Mode */
    --text-primary: 220 13% 92%;         /* Main text */
    --text-secondary: 220 9% 70%;        /* Secondary text */
    --text-tertiary: 220 8% 50%;         /* Tertiary text */
    --text-on-brand: 0 0% 100%;          /* Text on colored backgrounds */
    
    /* Borders & Dividers - Dark Mode */
    --border-subtle: 220 13% 20%;        /* Light borders */
    --border-moderate: 220 9% 30%;       /* Medium borders */
    --border-strong: 220 9% 40%;         /* Strong borders */
    
    /* Shadows & Elevation - Dark Mode */
    --shadow-sm: 0 1px 2px 0 hsl(0 0% 0% / 0.2);
    --shadow-md: 0 4px 6px -1px hsl(0 0% 0% / 0.3), 0 2px 4px -2px hsl(0 0% 0% / 0.3);
    --shadow-lg: 0 10px 15px -3px hsl(0 0% 0% / 0.4), 0 4px 6px -4px hsl(0 0% 0% / 0.4);
    --shadow-xl: 0 20px 25px -5px hsl(0 0% 0% / 0.5), 0 8px 10px -6px hsl(0 0% 0% / 0.5);
  }

  /* Ocean Theme */
  .theme-ocean {
    --brand-primary: 200 85% 50%;        /* Ocean blue */
    --brand-secondary: 190 75% 40%;      /* Deep teal */
    --brand-accent: 210 100% 85%;        /* Light blue */
  }

  /* Forest Theme */
  .theme-forest {
    --brand-primary: 142 76% 36%;        /* Forest green */
    --brand-secondary: 160 70% 30%;      /* Deep forest */
    --brand-accent: 120 100% 85%;        /* Light green */
  }

  /* Beige Theme */
  .beige {
    --background: 45 25% 94%;            /* Warm beige background */
    --background-secondary: 40 20% 90%;  /* Slightly deeper beige */
    --background-tertiary: 35 15% 88%;   /* Cards/elevated surfaces */
    --foreground: 25 15% 15%;            /* Dark brown text */
    --foreground-secondary: 30 12% 35%;  /* Secondary brown text */
    
    --surface-elevated: 45 30% 96%;      /* Light beige cards */
    --surface-hover: 40 25% 92%;         /* Hover states */
    --surface-active: 35 40% 75%;        /* Active states */
    --surface-selected: 35 35% 80%;      /* Selected items */
    
    --pdf-background: 45 30% 96%;        /* Beige PDF background */
    --pdf-shadow: 25 15% 65%;            /* Warm shadows */
    --outline-background: 45 25% 92%;    /* Beige sidebar */
    
    --text-primary: 25 15% 15%;          /* Main text */
    --text-secondary: 30 12% 35%;        /* Secondary text */
    --text-tertiary: 30 10% 50%;         /* Tertiary text */
    --text-on-brand: 0 0% 100%;          /* Text on colored backgrounds */
    
    --border-subtle: 35 15% 75%;         /* Light borders */
    --border-moderate: 30 12% 65%;       /* Medium borders */
    --border-strong: 25 15% 55%;         /* Strong borders */
  }

  /* Sunset Theme */
  .theme-sunset {
    --brand-primary: 25 95% 53%;         /* Sunset orange */
    --brand-secondary: 15 85% 45%;       /* Deep orange */
    --brand-accent: 35 100% 85%;         /* Light peach */
  }

  /* Lavender Theme */
  .theme-lavender {
    --brand-primary: 270 50% 70%;        /* Lavender purple */
    --brand-secondary: 260 45% 60%;      /* Deep lavender */
    --brand-accent: 280 60% 90%;         /* Light purple */
  }

  /* Warm Theme */
  .theme-warm {
    --brand-primary: 15 80% 55%;         /* Warm red-orange */
    --brand-secondary: 10 75% 45%;       /* Deep warm */
    --brand-accent: 25 90% 85%;          /* Light warm */
  }
}

@layer base {
  * {
    @apply border-border-subtle;
  }

  body {
    @apply bg-background text-text-primary font-sans antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  /* Custom scrollbars */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: hsl(var(--background-secondary));
  }
  
  ::-webkit-scrollbar-thumb {
    background: hsl(var(--border-moderate));
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--border-strong));
  }
}

@layer components {
  /* PDF Reader Specific Components */
  .pdf-canvas {
    @apply bg-pdf-background shadow-lg;
    box-shadow: var(--shadow-lg);
  }
  
  .outline-item {
    @apply px-3 py-2 rounded-lg text-sm transition-all duration-200;
    @apply hover:bg-surface-hover active:bg-surface-active;
  }
  
  .outline-item.active {
    @apply bg-surface-selected text-brand-primary font-medium;
  }
  
  .floating-tool {
    @apply bg-surface-elevated border border-border-subtle rounded-xl shadow-md;
    @apply backdrop-blur-sm transition-all duration-300;
  }
  
  .floating-tool:hover {
    @apply shadow-lg border-border-moderate;
  }
  
  /* Highlight variants */
  .highlight-primary {
    background: hsl(var(--highlight-primary));
  }
  
  .highlight-secondary {
    background: hsl(var(--highlight-secondary));
  }
  
  .highlight-tertiary {
    background: hsl(var(--highlight-tertiary));
  }

  .highlight-quaternary {
    background: hsl(var(--highlight-quaternary));
  }
  
  /* Accessibility enhancements */
  .focus-visible {
    @apply outline-none ring-2 ring-focus-ring ring-offset-2 ring-offset-background;
  }
  
  /* Typography scale for reading */
  .text-reading-sm {
    font-size: 0.875rem;
    line-height: 1.5;
  }
  
  .text-reading-base {
    font-size: 1rem;
    line-height: 1.6;
  }
  
  .text-reading-lg {
    font-size: 1.125rem;
    line-height: 1.7;
  }
  
  .text-reading-xl {
    font-size: 1.25rem;
    line-height: 1.8;
  }

  /* Typing animation styles */
  .typing-text {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    font-weight: 900;
    letter-spacing: -0.03em;
    line-height: 1.05;
  }

  .typing-text-enhanced {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    font-weight: 950;
    letter-spacing: -0.04em;
    line-height: 1.02;
    font-size: inherit;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }

  .typing-cursor {
    display: inline-block;
    width: 4px;
    height: 1.2em;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    animation: blink 1s infinite;
    margin-left: 2px;
    vertical-align: text-bottom;
  }

  .typing-cursor-enhanced {
    display: inline-block;
    width: 6px;
    height: 1.3em;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    animation: blink 1.2s infinite;
    margin-left: 4px;
    vertical-align: text-bottom;
    border-radius: 1px;
    box-shadow: 0 0 8px rgba(102, 126, 234, 0.4);
  }

  @keyframes blink {
    0%, 49% { opacity: 1; }
    50%, 100% { opacity: 0; }
  }

  /* PDF Highlight Styles */
  .pdf-highlight {
    transition: all 0.2s ease-in-out;
    cursor: pointer;
  }

  .pdf-highlight:hover {
    transform: scale(1.01);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .pdf-highlight-yellow {
    background-color: rgba(255, 235, 59, 0.4) !important;
    border-left: 3px solid #FDD835 !important;
  }

  .pdf-highlight-green {
    background-color: rgba(255, 193, 7, 0.3) !important;
    border-left: 3px solid #FFA000 !important;
  }

  .pdf-highlight-blue {
    background-color: rgba(255, 241, 118, 0.3) !important;
    border-left: 3px solid #F57F17 !important;
  }

  .pdf-highlight-gold {
    background-color: rgba(255, 213, 79, 0.25) !important;
    border-left: 3px solid #FF8F00 !important;
  }

  /* Enhanced headline typography */
  .headline-main {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    font-weight: 900;
    font-feature-settings: "cv11", "ss01";
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .headline-gradient {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #fda085 100%);
    background-size: 200% 200%;
    animation: gradient-shift 8s ease infinite;
    -webkit-background-clip: text;
    background-clip: text;
  }

  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
}

@layer utilities {
  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }
  
  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }
  
  .animate-scale-in {
    animation: scaleIn 0.2s ease-out;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(4px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(16px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* Gradient utilities */
  .gradient-subtle {
    background: linear-gradient(135deg, 
      hsl(var(--background)) 0%, 
      hsl(var(--background-secondary)) 100%);
  }

  .gradient-primary {
    background: linear-gradient(135deg, 
      hsl(var(--brand-primary)) 0%, 
      hsl(var(--brand-secondary)) 100%);
  }

  .bg-gradient-primary {
    background: linear-gradient(135deg, 
      hsl(var(--brand-primary)) 0%, 
      hsl(var(--brand-secondary)) 100%) !important;
    color: white !important;
  }

  .text-gradient-primary {
    background: linear-gradient(135deg, 
      hsl(var(--brand-primary)) 0%, 
      hsl(var(--brand-secondary)) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Ensure important buttons are always visible */
  .btn-primary {
    background: hsl(var(--brand-primary)) !important;
    color: white !important;
    opacity: 1 !important;
  }

  /* Modern glass effect */
  .glass-effect {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  /* Modern card hover effects */
  .modern-card {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .modern-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  }

  /* Smooth focus transitions */
  .smooth-focus {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .smooth-focus:focus-visible {
    outline: 2px solid hsl(var(--brand-primary));
    outline-offset: 2px;
  }

  /* Layout fixes for PDF Reader */
  .pdf-reader-layout {
    min-height: 0;
    overflow: hidden;
  }

  /* Ensure proper text wrapping in panels */
  .panel-content {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    min-width: 0;
  }

  /* Prevent content from overflowing in sidebars */
  .sidebar-content {
    min-width: 0;
    max-width: 100%;
    overflow-x: hidden;
    overflow-y: auto;
  }

  /* Ensure main content area doesn't overlap with sidebars */
  .main-content-area {
    min-width: 0;
    flex: 1;
    overflow: hidden;
  }

  /* Prevent layout shifts and ensure smooth transitions */
  .pdf-reader-layout * {
    box-sizing: border-box;
  }

  .pdf-reader-sidebar {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Better responsive behavior for navigation */
  @media (max-width: 768px) {
    .pdf-reader-sidebar {
      width: 100% !important;
      max-width: 100% !important;
      left: 0 !important;
      right: 0 !important;
    }
    
    .main-content-area {
      margin-left: 0 !important;
      margin-right: 0 !important;
    }
  }

  /* Ensure proper text rendering and prevent overflow */
  .panel-content * {
    max-width: 100%;
    word-break: break-word;
  }
}